<div>
  <p>
    {{ total() }} products
  </p>
  <ngx-masonry
    [options]="masonryOptions"
    [ordered]="true"
    class="masonry-container"
    infiniteScroll
    [infiniteScrollDistance]="2"
    [infiniteScrollThrottle]="50"
    (scrolled)="bottomReach.emit()">
    <div class="grid-item"></div>
    @for (product of products(); track product.id) {
      <div ngxMasonryItem class="image-item">
        <a [routerLink]="'/products/' + product.id">
          <img class="image" [src]="product | productContent" alt="{{ product.name }}">
        </a>
      </div>
    } @empty {
      <p>No products found.</p>
    }
  </ngx-masonry>
</div>
